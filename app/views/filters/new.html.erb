<%= render 'form' %>

<%= form_for(@filter) do |f| %>
  <%= f.label :name %>:
  <%= f.text_field :name %><br />
  <%= f.label :family %>:
  <%= f.text_field :family %><br />
  <%= f.label :filter_type %>:
  <%= f.text_field :filter_type %><br />
  <%= f.label :list_type %>:
  <%= f.select :list_type, options_for_select(Filter::LIST_KEYS.invert.to_a) %><br />  
  <%= f.label :operator %>
  <%= f.select :operator,options_for_select(Filter::RELATION_OPERATOR), {class: "hidden", name: "numeric_operator"} %><br />
    <%= f.label "non-op" %>
   <%= f.select :operator,options_for_select(Filter::NON_RELATION_OPERATOR), { class: "hidden", name: "non-numeric_operator" }%><br />
   <%= f.label :condition %>
  <%= f.text_field :condition %><br />
  <%= f.submit %>
<% end %>


<script type="text/javascript">
    $(document).ready(function(){
        $("select#gallery_section_id").change(function(){
            var id_value_string = $(this).val();
            if (id_value_string == "") { 
                // if the id is empty remove all the sub_selection options from being selectable and do not do any ajax
                $("select#gallery_sub_section_id option").remove();
                var row = "<option value=\"" + "" + "\">" + "" + "</option>";
                $(row).appendTo("select#gallery_sub_section_id");
            }
            else {
                // Send the request and update sub category dropdown 
                $.ajax({
                    dataType: "json",
                    cache: false,
                    url: '/sub_sections/for_sectionid/' + id_value_string,
                    timeout: 2000,
                    error: function(XMLHttpRequest, errorTextStatus, error){
                        alert("Failed to submit : "+ errorTextStatus+" ;"+error);
                    },
                    success: function(data){                    
                        // Clear all options from sub category select 
                        $("select#gallery_sub_section_id option").remove();
                        //put in a empty default line
                        var row = "<option value=\"" + "" + "\">" + "" + "</option>";
                        $(row).appendTo("select#gallery_sub_section_id");                        
                        // Fill sub category select 
                        $.each(data, function(i, j){
                            row = "<option value=\"" + j.sub_section.id + "\">" + j.sub_section.name + "</option>";   
                            $(row).appendTo("select#gallery_sub_section_id");                     
                        });             
                     }
                });
            };
                });
    });
</script>

















<div>
    <label>Device:</label>
    <select name="Device" id="Device" class="" onclick="craateUserJsObject.ShowPrivileges();">
        <option value="Select">--Select a Device--</option>
                    <option id="iOS" value="iOS">iOS Device</option>
                    <option id="macdesktops" value="macdesktops">Mac Desktop</option>
                    <option id="maclaptops" value="maclaptops">Mac Laptop</option>
                    <option id="pcdesktops" value="pcdesktops">PC Desktop</option>
                    <option id="pclaptops" value="pclaptops">PC Laptop</option>
    </select>
</div>
<div class="resources" style=" display: none;"><select>
                    <option>-Select a Model-</option>
                    <option value="Touch">iPod Touch</option>
                    <option value="Nano">iPod Nano</option>
                    <option value="Classic">iPod Classic</option>
                    <option value="Shuffle">iPod Shuffle</option>
                  </select> <font color="red">*</font></div>
<div class="resources2" style=" display: none;">
<select>
                    <option>-Select a Model-</option>
                    <option value="iMac">iMac</option>
                    <option value="MacPro">Mac Pro</option>
                    <option value="Mini">Mac Mini</option>
                  </select> <font color="red">*</font>
                  </div>
<div class="resources3" style=" display: none;">
<select>
                    <option>-Select a Model-</option>
                    <option value="White">White Macbook</option>
                    <option value="Pro">Macbook Pro</option>
                    <option value="Air">Macbook Air</option>
                  </select> <font color="red">*</font>
                  </div>
<div class="resources4" style=" display: none;">
                  <input type="text" id="pcdesktops" placeholder="ie. Dell Optiplex 9010"/> <font color="red">*</font>
                  </div>
                  <div class="resources5" style=" display: none;">
                  <input type="text" id="pclaptops" placeholder="ie. Lenovo G580" /> <font color="red">*</font>
                  </div>


                  <script type="text/javascript">
                    var Privileges = jQuery('#Device');
var select = this.value;
Privileges.change(function () {
    if ($(this).val() == 'iOS') {
        $('.resources').show();
    }
    else $('.resources').hide();

    if ($(this).val() == 'macdesktops') {
        $('.resources2').show();
    }
    else $('.resources2').hide();

    if ($(this).val() == 'maclaptops') {
        $('.resources3').show();
    }
    else $('.resources3').hide();

    if ($(this).val() == 'pcdesktops') {
        $('.resources4').show();
    }
    else $('.resources4').hide();

    if ($(this).val() == 'pclaptops') {
        $('.resources5').show();
    }
    else $('.resources5').hide();
});
                  </script>